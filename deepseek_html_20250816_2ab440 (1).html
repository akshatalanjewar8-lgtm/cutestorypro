<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our First Meeting</title>
<style>
:root {
  --sky1: #ffe9f0;
  --sky2: #ffd9ba;
  --ink: #3b2a3d;
  --rose: #ff7aa2;
  --blue: #7ec6ff;
  --pink: #ffb6c1;
  --gold: #ffd700;
}
* { box-sizing: border-box; }
body, html { margin: 0; padding: 0; height: 100%; font-family: 'Comic Sans MS', cursive, sans-serif; overflow: hidden; background: linear-gradient(180deg, var(--sky1), var(--sky2)); }
.scene { position: relative; width: 100%; height: 100%; overflow: hidden; }

/* Sparkles */
.sparkle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  filter: drop-shadow(0 0 4px white);
  animation: sparkleAnim 3s infinite;
}
@keyframes sparkleAnim {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.5); opacity: 1; }
  100% { transform: scale(0); opacity: 0; }
}

/* Background elements */
.sun { 
  position: absolute; 
  top: 5%; 
  right: 10%; 
  width: 120px; 
  height: 120px; 
  border-radius: 50%; 
  background: radial-gradient(circle, #fff9c8, #ffd683, #ffbe5e); 
  box-shadow: 0 0 120px #ffcf73aa;
  animation: sunGlow 6s infinite alternate ease-in-out;
}
@keyframes sunGlow {
  0% { box-shadow: 0 0 120px #ffcf73aa; }
  100% { box-shadow: 0 0 150px #ffcf73dd; }
}

.cloud { 
  position: absolute; 
  background: #fff; 
  border-radius: 40px; 
  opacity: .9; 
  animation: drift 60s linear infinite;
  filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.1));
}
.cloud:before, .cloud:after { content: ""; position: absolute; background: #fff; border-radius: 40px; }
.cloud.small { width: 140px; height: 48px; top: 12vh; left: -20vw; }
.cloud.small:before { width: 70px; height: 70px; left: 12px; top: -30px; }
.cloud.small:after { width: 80px; height: 80px; left: 62px; top: -38px; }
@keyframes drift { 
  0% { transform: translateX(-30vw); } 
  100% { transform: translateX(130vw); } 
}

/* Birds */
.bird {
  position: absolute;
  width: 30px;
  height: 20px;
  background: transparent;
  opacity: 0.7;
  animation: birdFly 30s linear infinite;
}
.bird:before, .bird:after {
  content: "";
  position: absolute;
  width: 12px;
  height: 4px;
  background: #333;
  border-radius: 10px;
  top: 0;
}
.bird:before {
  left: 0;
  transform: rotate(30deg);
  transform-origin: right;
  animation: birdWing 0.8s infinite alternate;
}
.bird:after {
  right: 0;
  transform: rotate(-30deg);
  transform-origin: left;
  animation: birdWing 0.8s infinite alternate-reverse;
}
@keyframes birdFly {
  0% { transform: translateX(-10vw) translateY(10vh); }
  100% { transform: translateX(110vw) translateY(5vh); }
}
@keyframes birdWing {
  0% { transform: rotate(30deg); }
  100% { transform: rotate(-30deg); }
}

/* Ground and mall */
.ground { 
  position: absolute; 
  bottom: 0; 
  left: 0; 
  right: 0; 
  height: 40vh; 
  background: linear-gradient(#ffd1b8, #ffc3a6); 
}
.road { 
  position: absolute; 
  bottom: 10vh; 
  left: 0; 
  right: 0; 
  height: 12vh; 
  background: #3f3f4a; 
}
.road:before { 
  content: ""; 
  position: absolute; 
  left: 8%; 
  right: 8%; 
  top: 50%; 
  height: 4px; 
  background: repeating-linear-gradient(90deg, #fff 0 60px, transparent 60px 110px); 
  transform: translateY(-50%); 
  opacity: .9; 
}

/* Flowers on ground */
.flower {
  position: absolute;
  bottom: 40vh;
  width: 20px;
  height: 40px;
  background: #6b8c42;
  border-radius: 10px;
}
.flower:before {
  content: "";
  position: absolute;
  width: 30px;
  height: 30px;
  background: var(--pink);
  border-radius: 50% 50% 0 50%;
  transform: rotate(45deg);
  bottom: 30px;
  left: -5px;
  filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
}

.mall { 
  position: absolute; 
  bottom: 22vh; 
  left: 50%; 
  transform: translateX(-50%); 
  width: 900px; 
  height: 420px; 
  background: linear-gradient(#ffe6dd, #ffd6c7); 
  border: 4px solid #e9a892; 
  border-radius: 28px; 
  box-shadow: 0 16px 80px #e8855a40; 
  animation: mallGlow 6s infinite alternate ease-in-out;
}
@keyframes mallGlow {
  0% { box-shadow: 0 16px 80px #e8855a40; }
  100% { box-shadow: 0 16px 100px #e8855a80; }
}

.mall .sign { 
  position: absolute; 
  top: -20px; 
  left: 50%; 
  transform: translateX(-50%); 
  background: linear-gradient(180deg, #5a3b56, #3f2a40); 
  color: #fff; 
  padding: 10px 22px; 
  border-radius: 14px; 
  font-weight: 800; 
  letter-spacing: .6px; 
  border: 2px solid #e2c7d9; 
  text-transform: uppercase; 
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  animation: signFloat 6s infinite alternate ease-in-out;
}
@keyframes signFloat {
  0% { transform: translateX(-50%) translateY(0); }
  100% { transform: translateX(-50%) translateY(-5px); }
}

.mall .sign .accent { color: #ffb2c5; }
.facade { 
  position: absolute; 
  inset: 14% 4% 22% 4%; 
  background: linear-gradient(90deg, #ffdacc 0 4%, transparent 4 8%, #ffdacc 8% 12%, transparent 12% 16%, #ffdacc 16% 20%); 
  border-radius: 12px; 
}
.windows { 
  position: absolute; 
  top: 18%; 
  left: 6%; 
  right: 6%; 
  height: 36%; 
  display: grid; 
  grid-template-columns: repeat(8, 1fr); 
  gap: 10px; 
}
.pane { 
  background: linear-gradient(180deg, #b8e5ff, #8cc8ff); 
  border: 2px solid #a9ceff; 
  border-radius: 8px; 
  animation: windowShine 10s infinite alternate ease-in-out;
}
@keyframes windowShine {
  0% { opacity: 0.8; }
  100% { opacity: 1; box-shadow: 0 0 20px rgba(184, 229, 255, 0.8); }
}

.doors { 
  position: absolute; 
  bottom: 0; 
  left: 50%; 
  transform: translateX(-50%); 
  width: 42%; 
  height: 54%; 
  background: linear-gradient(#fff, #f4f4f6); 
  border: 3px solid #e6b9a6; 
  border-bottom: none; 
  border-radius: 16px 16px 0 0; 
  display: flex; 
  align-items: center; 
  justify-content: space-evenly; 
  overflow: hidden; 
}
.door { 
  width: 46%; 
  height: 88%; 
  background: linear-gradient(180deg, #cfe8ff, #94caff); 
  border: 2px solid #a7cfff; 
  border-radius: 8px; 
  animation: doorShine 6s infinite alternate ease-in-out;
}
@keyframes doorShine {
  0% { box-shadow: inset 0 0 10px rgba(255,255,255,0.5); }
  100% { box-shadow: inset 0 0 20px rgba(255,255,255,0.8); }
}

.stairs { 
  position: absolute; 
  bottom: -7%; 
  left: 50%; 
  transform: translateX(-50%); 
  width: 56%; 
  height: 9%; 
  background: repeating-linear-gradient(to bottom, #f6c8a7 0 6px, #f2b79a 6px 12px); 
  border-radius: 10px; 
}

/* Characters */
.char { 
  position: absolute; 
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  gap: 4px; 
  bottom: 22vh;
  transition: all 2s ease-in-out;
  filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.1));
}
.char .head { 
  width: 54px; 
  height: 54px; 
  background: #ffd9c8; 
  border-radius: 50%; 
  position: relative; 
  animation: headTilt 6s infinite alternate ease-in-out;
}
@keyframes headTilt {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(2deg); }
  50% { transform: rotate(0deg); }
  75% { transform: rotate(-2deg); }
  100% { transform: rotate(0deg); }
}

.char .hair { 
  position: absolute; 
  width: 68px; 
  height: 40px; 
  background: #2f2f2f; 
  top: -8px; 
  left: -7px; 
  border-radius: 24px; 
}
.char .body { 
  width: 64px; 
  height: 86px; 
  border-radius: 18px; 
  position: relative; 
  animation: bodySway 6s infinite alternate ease-in-out;
}
@keyframes bodySway {
  0% { transform: translateX(0); }
  50% { transform: translateX(3px); }
  100% { transform: translateX(0); }
}

.char .leg { 
  width: 12px; 
  height: 36px; 
  background: #3f3f4a; 
  border-radius: 8px; 
}

/* Girl character */
.girl .body { 
  background: var(--rose); 
  border-radius: 32px 28px 28px 32px; 
  box-shadow: inset 0 0 10px rgba(255,255,255,0.5);
}
.girl .hairband { 
  position: absolute; 
  top: -2px; 
  left: 0; 
  right: 0; 
  margin: auto; 
  width: 66px; 
  height: 10px; 
  background: #e66b8b; 
  border-radius: 50%; 
}
.girl .bag { 
  position: absolute; 
  right: -16px; 
  bottom: 10px; 
  width: 14px; 
  height: 28px; 
  background: #ffb3b3; 
  border-radius: 4px; 
  animation: bagSwing 4s infinite alternate ease-in-out;
}
@keyframes bagSwing {
  0% { transform: rotate(10deg); }
  100% { transform: rotate(-10deg); }
}

.girl .shoes { 
  position: absolute; 
  bottom: -4px; 
  left: 6px; 
  width: 16px; 
  height: 6px; 
  background: #fff; 
  border-radius: 4px; 
}
.girl .glasses { 
  position: absolute; 
  top: 12px; 
  left: 5px; 
  width: 44px; 
  height: 16px; 
  background: #333; 
  border-radius: 8px; 
}
.girl .glasses:before {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  border: 3px solid #333;
  border-radius: 50%;
  top: -2px;
  left: 0;
}
.girl .glasses:after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  border: 3px solid #333;
  border-radius: 50%;
  top: -2px;
  right: 0;
}
.girl .blush {
  position: absolute;
  width: 10px;
  height: 6px;
  background: #ffb6c1;
  border-radius: 50%;
  top: 24px;
  left: 8px;
  opacity: 0;
  transition: opacity 1s ease;
}
.girl .blush.right {
  left: auto;
  right: 8px;
}

/* Boy character */
.boy .body { 
  background: var(--blue); 
  border-radius: 28px 32px 32px 28px; 
  box-shadow: inset 0 0 10px rgba(255,255,255,0.5);
}
.boy .hair { 
  border-radius: 18px 22px 20px 18px; 
  width: 64px; 
  height: 38px; 
  top: -7px; 
  left: -6px; 
}
.boy .cap { 
  position: absolute; 
  top: -10px; 
  left: 5px; 
  width: 32px; 
  height: 16px; 
  background: #333; 
  border-radius: 6px; 
}
.boy .shoes { 
  position: absolute; 
  bottom: -4px; 
  left: 4px; 
  width: 16px; 
  height: 6px; 
  background: #222; 
  border-radius: 4px; 
}
.boy .smile {
  position: absolute;
  width: 24px;
  height: 12px;
  border-bottom: 3px solid #333;
  border-radius: 0 0 12px 12px;
  top: 30px;
  left: 15px;
  opacity: 0;
  transition: opacity 1s ease;
}

/* Scooty */
.scooty-container {
  position: absolute;
  bottom: 22vh;
  right: -200px;
  width: 200px;
  height: 120px;
  transition: all 3s ease-in-out;
  filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
}
.scooty {
  position: absolute;
  width: 100%;
  height: 100%;
  filter: grayscale(50%) brightness(0.7);
  animation: scootyShine 6s infinite alternate ease-in-out;
}
@keyframes scootyShine {
  0% { filter: grayscale(50%) brightness(0.7); }
  100% { filter: grayscale(30%) brightness(0.8); }
}

.boy-on-scooty {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
}

/* Animations */
@keyframes walkGirl { 
  0%, 100% { transform: translateY(0); } 
  50% { transform: translateY(-5px); } 
}
.girl.walking { animation: walkGirl 1s infinite ease-in-out; }

@keyframes rideScooty { 
  0%, 100% { transform: translateY(0); } 
  50% { transform: translateY(-3px); } 
}
.riding { animation: rideScooty 1s infinite ease-in-out; }

@keyframes phoneVibrate {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
}

/* Phone call UI */
.phone-call {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 0 30px rgba(0,0,0,0.2);
  opacity: 0;
  transition: all 1s ease-in-out;
  z-index: 10;
  animation: phoneVibrate 0.4s infinite;
  max-width: 80%;
  text-align: center;
  background: linear-gradient(135deg, #f5f7fa, #e4e8f0);
  border: 2px solid #e0e5ec;
  width: 300px;
}
.phone-call.show {
  opacity: 1;
}
.conversation {
  margin-top: 10px;
}
.conversation p {
  margin: 8px 0;
  padding: 8px 12px;
  border-radius: 18px;
  display: inline-block;
  max-width: 80%;
  animation: messagePop 0.6s ease-out;
  transition: all 0.3s ease;
  text-align: left;
  width: 100%;
  box-sizing: border-box;
}
@keyframes messagePop {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.her-text {
  background: #ffebee;
  color: #d32f2f;
  border: 1px solid #ffcdd2;
  text-align: right;
  margin-left: auto;
}
.his-text {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
  text-align: left;
  margin-right: auto;
}

.call-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-bottom: 10px;
}
.call-header img {
  width: 30px;
  height: 30px;
  border-radius: 50%;
}
.call-header h3 {
  margin: 0;
  font-size: 16px;
}

/* Hearts */
.heart {
  position: absolute;
  width: 40px;
  height: 40px;
  background: red;
  clip-path: polygon(50% 0%, 61% 12%, 75% 15%, 80% 25%, 75% 35%, 50% 55%, 25% 35%, 20% 25%, 25% 15%, 39% 12%);
  opacity: 0;
  transition: all 2s ease-in-out;
  z-index: 5;
  animation: floatHeart 6s infinite alternate ease-in-out;
}
@keyframes floatHeart {
  0% { transform: translateY(0); }
  100% { transform: translateY(-10px); }
}

/* Text elements */
.caption {
  position: absolute;
  left: 50%;
  bottom: 34vh;
  transform: translateX(-50%);
  width: 90%;
  text-align: center;
  font-weight: 700;
  font-size: clamp(18px, 2.6vw, 28px);
  color: #3b2a3d;
  text-shadow: 1px 1px #fff;
  transition: all 1s ease-in-out;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}
.subtitle {
  position: absolute;
  left: 50%;
  bottom: 28vh;
  transform: translateX(-50%);
  width: 90%;
  text-align: center;
  font-size: clamp(14px, 2.1vw, 22px);
  color: #ff4c79;
  font-weight: 600;
  transition: all 1s ease-in-out;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}

/* Start screen */
.start {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 14px;
  background: rgba(255,255,255,.55);
  backdrop-filter: blur(6px);
  z-index: 20;
}
.start h1 {
  margin: 0;
  font-size: clamp(24px, 5vw, 44px);
  color: #3b2a3d;
  text-align: center;
  max-width: 80%;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  animation: titleGlow 4s infinite alternate ease-in-out;
}
@keyframes titleGlow {
  0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
  100% { text-shadow: 2px 2px 8px rgba(255,122,162,0.4); }
}

.btn {
  appearance: none;
  border: none;
  background: linear-gradient(90deg, #ff7aa2, #e66b8b);
  color: white;
  padding: 14px 22px;
  border-radius: 16px;
  font-weight: 800;
  box-shadow: 0 10px 28px #e66b8b44;
  cursor: pointer;
  transition: all 0.6s ease;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}
.btn:before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    to bottom right,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0) 45%,
    rgba(255,255,255,0.5) 48%,
    rgba(255,255,255,0.8) 50%,
    rgba(255,255,255,0.5) 52%,
    rgba(255,255,255,0) 57%,
    rgba(255,255,255,0) 100%
  );
  transform: rotate(30deg);
  animation: btnShine 6s infinite;
}
@keyframes btnShine {
  0% { left: -50%; top: -50%; }
  100% { left: 50%; top: 50%; }
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px #e66b8b66;
}

/* Love text */
#loveText {
  position: absolute;
  left: 50%;
  top: 30%;
  transform: translate(-50%, -50%) scale(0) rotateY(180deg);
  font-size: 6vw;
  font-weight: 900;
  color: #ff2d95;
  text-shadow: 2px 2px #fff;
  text-align: center;
  transition: transform 2s ease-in-out;
  z-index: 15;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  background: linear-gradient(45deg, #ff2d95, #ff7a2d, #2d95ff, #7aff2d);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  background-size: 300% 300%;
  animation: gradientBG 12s ease infinite;
}
@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#loveText.show {
  transform: translate(-50%, -50%) scale(1) rotateY(0deg);
  animation: heartbeat 2s infinite alternate ease-in-out, gradientBG 12s ease infinite;
}
@keyframes heartbeat {
  0% { transform: translate(-50%, -50%) scale(1) rotateY(0deg); }
  50% { transform: translate(-50%, -50%) scale(1.2) rotateY(0deg); }
  100% { transform: translate(-50%, -50%) scale(1) rotateY(0deg); }
}

/* Replay button */
.replay-btn {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(90deg, #ff7aa2, #e66b8b);
  color: white;
  padding: 12px 24px;
  border-radius: 50px;
  font-weight: 800;
  box-shadow: 0 10px 28px #e66b8b44;
  cursor: pointer;
  transition: all 0.6s ease;
  opacity: 0;
  z-index: 25;
  border: none;
  font-size: 16px;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}
.replay-btn:hover {
  transform: translateX(-50%) translateY(-2px);
  box-shadow: 0 12px 32px #e66b8b66;
}
.replay-btn.show {
  opacity: 1;
  transition: opacity 2s ease 15s;
}

/* Phone icon */
.phone-icon {
  position: absolute;
  width: 30px;
  height: 50px;
  background: #333;
  border-radius: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 20px;
  opacity: 0;
  transition: all 1s ease;
  animation: phoneRing 0.8s infinite ease-in-out;
}
@keyframes phoneRing {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(5deg); }
  75% { transform: rotate(-5deg); }
}

/* Together on scooty */
.together {
  position: absolute;
  bottom: 22vh;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  height: 120px;
  opacity: 0;
  transition: all 2s ease-in-out;
  z-index: 3;
  filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
}
.together.show {
  opacity: 1;
}
.together .scooty {
  position: absolute;
  width: 100%;
  height: 100%;
  filter: grayscale(50%) brightness(0.7);
}
.together .girl {
  position: absolute;
  bottom: 30px;
  left: 30%;
  transform: translateX(-50%);
  z-index: 2;
}
.together .boy {
  position: absolute;
  bottom: 30px;
  left: 70%;
  transform: translateX(-50%);
  z-index: 2;
}

/* Walking animation for girl to scooty */
@keyframes walkToScooty {
  0% { transform: translateX(0); }
  100% { transform: translateX(100px); }
}
.walking-to-scooty {
  animation: walkToScooty 3s forwards ease-in-out;
  z-index: 2;
}

/* Confetti */
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  background: var(--pink);
  opacity: 0;
  z-index: 15;
  animation: confettiFall 6s linear forwards;
}
@keyframes confettiFall {
  0% { 
    transform: translateY(-100vh) rotate(0deg); 
    opacity: 1; 
  }
  100% { 
    transform: translateY(100vh) rotate(360deg); 
    opacity: 0; 
  }
}

/* Blinking stars */
.star {
  position: absolute;
  width: 4px;
  height: 4px;
  background: white;
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
  opacity: 0;
  animation: starTwinkle 4s infinite alternate ease-in-out;
}
@keyframes starTwinkle {
  0% { opacity: 0.2; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1.2); }
}

/* Floating balloons */
.balloon {
  position: absolute;
  width: 40px;
  height: 50px;
  border-radius: 50%;
  opacity: 0;
  animation: balloonFloat 16s linear infinite;
  z-index: 5;
}
.balloon:before {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  width: 2px;
  height: 20px;
  background: #333;
  transform: translateX(-50%);
}
@keyframes balloonFloat {
  0% { transform: translateY(100vh); opacity: 1; }
  100% { transform: translateY(-100px); opacity: 1; }
}

/* Message typing indicator */
.typing {
  display: inline-block;
  position: relative;
  width: 40px;
  height: 20px;
  background: #f1f1f1;
  border-radius: 10px;
  margin: 8px 0;
  padding: 8px 12px;
}
.typing:before, .typing:after {
  content: "";
  position: absolute;
  bottom: 8px;
  left: 10px;
  width: 6px;
  height: 6px;
  background: #999;
  border-radius: 50%;
  animation: typingAnim 1.5s infinite ease-in-out;
}
.typing:before {
  left: 18px;
  animation-delay: 0.2s;
}
.typing:after {
  left: 26px;
  animation-delay: 0.4s;
}
@keyframes typingAnim {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Greeting bubble */
.greeting-bubble {
  position: absolute;
  bottom: 120px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  padding: 10px 15px;
  border-radius: 18px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  opacity: 0;
  transition: all 1s ease;
  z-index: 5;
  font-size: 14px;
  max-width: 80%;
  text-align: center;
  animation: bubbleFloat 3s infinite alternate ease-in-out;
}
.greeting-bubble:after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-top: 10px solid white;
  transform: translateX(-50%);
}
@keyframes bubbleFloat {
  0% { transform: translateX(-50%) translateY(0); }
  100% { transform: translateX(-50%) translateY(-5px); }
}

.greeting-bubble.show {
  opacity: 1;
}
</style>
</head>
<body>
<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mpeg">
</audio>
<audio id="ringtone">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-old-phone-ringing-1003.mp3" type="audio/mpeg">
</audio>
<audio id="heartSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-positive-interface-beep-221.mp3" type="audio/mpeg">
</audio>
<audio id="voiceSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-casual-male-voice-says-hello-503.mp3" type="audio/mpeg">
</audio>

<div class="scene" id="scene">
  <div class="sun"></div>
  <div class="cloud small"></div>
  <div class="cloud small" style="top:18vh;animation-delay:10s"></div>
  
  <!-- Birds -->
  <div class="bird" style="top:15vh; left:10vw; animation-delay:0s"></div>
  <div class="bird" style="top:20vh; left:30vw; animation-delay:4s"></div>
  
  <!-- Sparkles -->
  <div class="sparkle" style="top:20vh; left:20vw; animation-delay:1s"></div>
  <div class="sparkle" style="top:30vh; left:70vw; animation-delay:2s"></div>
  <div class="sparkle" style="top:15vh; left:50vw; animation-delay:3s"></div>
  
  <!-- Stars -->
  <div class="star" style="top:10vh; left:15vw; animation-delay:0s"></div>
  <div class="star" style="top:25vh; left:80vw; animation-delay:0.6s"></div>
  <div class="star" style="top:5vh; left:60vw; animation-delay:1.2s"></div>
  
  <div class="ground"></div>
  <div class="road"></div>
  
  <!-- Flowers -->
  <div class="flower" style="left:5vw;"></div>
  <div class="flower" style="left:15vw; transform: scale(0.8);"></div>
  <div class="flower" style="left:25vw; transform: scale(1.1);"></div>
  <div class="flower" style="left:75vw; transform: scale(0.9);"></div>
  <div class="flower" style="left:85vw; transform: scale(1.2);"></div>
  
  <div class="mall">
    <div class="sign">Eternity <span class="accent">Mall</span> — Nagpur</div>
    <div class="facade"></div>
    <div class="windows">
      <div class="pane"></div><div class="pane"></div><div class="pane"></div><div class="pane"></div>
      <div class="pane"></div><div class="pane"></div><div class="pane"></div><div class="pane"></div>
    </div>
    <div class="doors">
      <div class="door"></div>
      <div class="door"></div>
    </div>
    <div class="stairs"></div>
  </div>
  
  <!-- Girl Character -->
  <div class="char girl" id="girl" style="left: 10vw;">
    <div class="head">
      <div class="hair"></div>
      <div class="hairband"></div>
      <div class="glasses"></div>
      <div class="blush"></div>
      <div class="blush right"></div>
    </div>
    <div class="body"></div>
    <div class="leg"></div>
    <div class="phone-icon" id="girlPhone">📱</div>
  </div>
  
  <!-- Boy Character on Scooty -->
  <div class="scooty-container" id="scootyContainer">
    <img class="scooty" src="https://cdn-icons-png.flaticon.com/512/2972/2972185.png" alt="scooty">
    <div class="char boy boy-on-scooty" id="boy">
      <div class="head">
        <div class="hair"></div>
        <div class="cap"></div>
        <div class="smile"></div>
      </div>
      <div class="body"></div>
      <div class="leg"></div>
      <div class="phone-icon" id="boyPhone">📱</div>
    </div>
  </div>
  
  <!-- Together on Scooty -->
  <div class="together" id="together">
    <img class="scooty" src="https://cdn-icons-png.flaticon.com/512/2972/2972185.png" alt="scooty">
    <div class="char girl" id="togetherGirl">
      <div class="head">
        <div class="hair"></div>
        <div class="hairband"></div>
        <div class="glasses"></div>
        <div class="blush"></div>
        <div class="blush right"></div>
      </div>
      <div class="body"></div>
      <div class="leg"></div>
    </div>
    <div class="char boy" id="togetherBoy">
      <div class="head">
        <div class="hair"></div>
        <div class="cap"></div>
        <div class="smile"></div>
      </div>
      <div class="body"></div>
      <div class="leg"></div>
    </div>
  </div>
  
  <!-- Phone Call UI -->
  <div class="phone-call" id="phoneCall">
    <div class="call-header">
      <img src="https://cdn-icons-png.flaticon.com/512/555/555515.png" alt="Ankush">
      <h3>Ankush Calling...</h3>
    </div>
    <div class="conversation">
      <p class="his-text" id="hisText1" style="display:none">"I'm outside the mall!"</p>
      <p class="her-text" id="herText1" style="display:none">"Where are you?"</p>
      <p class="his-text" id="hisText2" style="display:none">"I'm on my grey scooty"</p>
      <p class="her-text" id="herText2" style="display:none">"I'm near the stairs, wearing glasses!"</p>
      <p class="his-text" id="hisText3" style="display:none">"Yes! I see you!"</p>
    </div>
  </div>
  
  <!-- Greeting bubble -->
  <div class="greeting-bubble" id="greetingBubble">"Hi Akshata... I'm Ankush"</div>
  
  <!-- Hearts -->
  <div class="heart" id="heart1" style="left: 40%; bottom: 30vh; background: #ff2d95;"></div>
  <div class="heart" id="heart2" style="left: 50%; bottom: 35vh; background: #ff7a2d;"></div>
  <div class="heart" id="heart3" style="left: 60%; bottom: 32vh; background: #2d95ff;"></div>
  
  <!-- Text Elements -->
  <div class="caption" id="caption">December at Eternity Mall, Nagpur</div>
  <div class="subtitle" id="subtitle">I was waiting near the stairs, wearing my glasses...</div>
  
  <!-- Love Text -->
  <div id="loveText">And That's How We Met 💖</div>
  
  <!-- Start Screen -->
  <div class="start" id="starter">
    <h1>Our First Meeting Story</h1>
    <button class="btn" id="startBtn">Begin Our Story</button>
  </div>
  
  <!-- Replay Button -->
  <button class="replay-btn" id="replayBtn">Replay Our Story</button>
</div>

<script>
// Elements
const startBtn = document.getElementById('startBtn');
const replayBtn = document.getElementById('replayBtn');
const starter = document.getElementById('starter');
const caption = document.getElementById('caption');
const subtitle = document.getElementById('subtitle');
const girl = document.getElementById('girl');
const boy = document.getElementById('boy');
const scootyContainer = document.getElementById('scootyContainer');
const together = document.getElementById('together');
const phoneCall = document.getElementById('phoneCall');
const girlPhone = document.getElementById('girlPhone');
const boyPhone = document.getElementById('boyPhone');
const loveText = document.getElementById('loveText');
const greetingBubble = document.getElementById('greetingBubble');
const bgMusic = document.getElementById('bgMusic');
const ringtone = document.getElementById('ringtone');
const heartSound = document.getElementById('heartSound');
const voiceSound = document.getElementById('voiceSound');
const hearts = [
  document.getElementById('heart1'),
  document.getElementById('heart2'),
  document.getElementById('heart3')
];
const girlBlush = document.querySelectorAll('.girl .blush');
const boySmile = document.querySelector('.boy .smile');

// Messages
const messages = [
  { element: document.getElementById('hisText1'), delay: 2000 },
  { element: document.getElementById('herText1'), delay: 4000 },
  { element: document.getElementById('hisText2'), delay: 6000 },
  { element: document.getElementById('herText2'), delay: 8000 },
  { element: document.getElementById('hisText3'), delay: 10000 }
];

// Create confetti
function createConfetti() {
  const colors = ['#ff2d95', '#ff7a2d', '#2d95ff', '#7aff2d', '#ffd700'];
  const scene = document.getElementById('scene');
  
  for (let i = 0; i < 50; i++) {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = Math.random() * 100 + 'vw';
    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.width = Math.random() * 10 + 5 + 'px';
    confetti.style.height = Math.random() * 10 + 5 + 'px';
    confetti.style.animationDelay = Math.random() * 2 + 's';
    confetti.style.animationDuration = Math.random() * 3 + 4 + 's';
    scene.appendChild(confetti);
    
    // Remove confetti after animation
    setTimeout(() => {
      confetti.remove();
    }, 10000);
  }
}

// Create balloons
function createBalloons() {
  const colors = ['#ff2d95', '#ff7a2d', '#2d95ff', '#7aff2d', '#ffd700'];
  const scene = document.getElementById('scene');
  
  for (let i = 0; i < 5; i++) {
    const balloon = document.createElement('div');
    balloon.className = 'balloon';
    balloon.style.left = Math.random() * 80 + 10 + 'vw';
    balloon.style.background = colors[Math.floor(Math.random() * colors.length)];
    balloon.style.animationDelay = i * 2 + 's';
    scene.appendChild(balloon);
    
    // Remove balloons after animation
    setTimeout(() => {
      balloon.remove();
    }, 18000);
  }
}

// Show messages one by one
function showMessages() {
  messages.forEach((msg, index) => {
    setTimeout(() => {
      msg.element.style.display = 'inline-block';
    }, msg.delay);
  });
}

// Story sequence
function startStory() {
  // Hide start screen
  starter.style.display = 'none';
  
  // Play background music
  bgMusic.volume = 0.3;
  bgMusic.play().catch(e => console.log("Autoplay prevented:", e));
  
  // Initial setup
  caption.textContent = "December at Eternity Mall, Nagpur";
  subtitle.textContent = "I was waiting near the stairs, wearing my glasses...";
  
  // Girl walks to center
  setTimeout(() => {
    girl.classList.add('walking');
    girl.style.left = '40vw';
    
    // After girl moves, show phone call
    setTimeout(() => {
      ringtone.play();
      girlPhone.style.opacity = '1';
      boyPhone.style.opacity = '1';
      phoneCall.classList.add('show');
      
      // Show messages
      showMessages();
      
      // Update text
      setTimeout(() => {
        caption.textContent = "The phone rings...";
        subtitle.textContent = "Ankush is calling from outside the mall";
      }, 1000);
      
      // After call, scooty arrives
      setTimeout(() => {
        // Hide phone call UI
        phoneCall.classList.remove('show');
        girlPhone.style.opacity = '0';
        boyPhone.style.opacity = '0';
        
        // Scooty arrives
        scootyContainer.style.right = '40vw';
        boy.classList.add('riding');
        
        // They meet
        setTimeout(() => {
          caption.textContent = "We spotted each other!";
          subtitle.textContent = "\"There you are!\" — he said, smiling";
          
          // Show greeting bubble
          setTimeout(() => {
            greetingBubble.classList.add('show');
            voiceSound.play();
          }, 1000);
          
          // Show facial expressions
          girlBlush.forEach(blush => blush.style.opacity = '1');
          boySmile.style.opacity = '1';
          
          // Show hearts with sound
          hearts.forEach((heart, i) => {
            setTimeout(() => {
              heart.style.opacity = '1';
              heart.style.transform = 'scale(1.5)';
              heartSound.currentTime = 0;
              heartSound.play();
            }, i * 800);
          });
          
          // Girl walks to scooty
          setTimeout(() => {
            girl.classList.add('walking-to-scooty');
            
            // Hide greeting bubble
            greetingBubble.classList.remove('show');
            
            // Get on scooty together
            setTimeout(() => {
              // Hide individual girl character
              girl.style.opacity = '0';
              
              // Hide individual scooty
              setTimeout(() => {
                scootyContainer.style.opacity = '0';
                
                // Show together on scooty
                setTimeout(() => {
                  together.classList.add('show');
                  together.classList.add('riding');
                  
                  // Create celebration effects
                  createConfetti();
                  createBalloons();
                  
                  // Final message
                  setTimeout(() => {
                    loveText.classList.add('show');
                    caption.textContent = "And that's how we met";
                    subtitle.textContent = "I sat on his scooty and we rode off together";
                    
                    // Show replay button
                    setTimeout(() => {
                      replayBtn.classList.add('show');
                    }, 3000);
                  }, 3000);
                }, 1000);
              }, 1000);
            }, 3000);
          }, 2000);
        }, 3000);
      }, 12000); // Longer delay for conversation
    }, 3000);
  }, 1000);
}

// Replay function
function replayStory() {
  // Reset elements
  girl.style.left = '10vw';
  girl.style.opacity = '1';
  girl.classList.remove('walking-to-scooty');
  scootyContainer.style.right = '-200px';
  scootyContainer.style.opacity = '1';
  phoneCall.classList.remove('show');
  girlPhone.style.opacity = '0';
  boyPhone.style.opacity = '0';
  loveText.classList.remove('show');
  together.classList.remove('show');
  together.classList.remove('riding');
  greetingBubble.classList.remove('show');
  replayBtn.classList.remove('show');
  girlBlush.forEach(blush => blush.style.opacity = '0');
  boySmile.style.opacity = '0';
  hearts.forEach(heart => {
    heart.style.opacity = '0';
    heart.style.transform = 'scale(1)';
  });
  
  // Hide all messages
  messages.forEach(msg => {
    msg.element.style.display = 'none';
  });
  
  // Restart story after a brief delay
  setTimeout(startStory, 1000);
}

// Event listeners
startBtn.addEventListener('click', startStory);
replayBtn.addEventListener('click', replayStory);

// Try to autoplay music with user interaction
document.body.addEventListener('click', function() {
  bgMusic.play().catch(e => {});
}, { once: true });

// Add some random sparkles periodically
setInterval(() => {
  const scene = document.getElementById('scene');
  const sparkle = document.createElement('div');
  sparkle.className = 'sparkle';
  sparkle.style.left = Math.random() * 100 + 'vw';
  sparkle.style.top = Math.random() * 50 + 'vh';
  sparkle.style.animationDelay = Math.random() * 2 + 's';
  scene.appendChild(sparkle);
  
  // Remove sparkle after animation
  setTimeout(() => {
    sparkle.remove();
  }, 3000);
}, 1000);
</script>
</body>
</html>