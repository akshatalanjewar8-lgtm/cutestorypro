<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our First Meeting Story</title>
  <style>
    :root {
      --sky1: #ffe9f0;
      --sky2: #ffd9ba;
      --ink: #3b2a3d;
      --rose: #ff7aa2;
      --blue: #7ec6ff;
      --pink: #ffb6c1;
      --gold: #ffd700;
    }
    * { box-sizing: border-box; }
    body, html { margin: 0; padding: 0; height: 100%; font-family: 'Comic Sans MS', cursive, sans-serif; overflow: hidden; background: linear-gradient(180deg, var(--sky1), var(--sky2)); }
    
    /* All your existing CSS styles remain exactly the same */
    .scene { position: relative; width: 100%; height: 100%; overflow: hidden; }
    .sun { position: absolute; top: 5%; right: 10%; width: 120px; height: 120px; border-radius: 50%; background: radial-gradient(circle, #fff9c8, #ffd683, #ffbe5e); box-shadow: 0 0 120px #ffcf73aa; animation: sunGlow 6s infinite alternate ease-in-out; }
    @keyframes sunGlow {
      0% { box-shadow: 0 0 120px #ffcf73aa; }
      100% { box-shadow: 0 0 150px #ffcf73dd; }
    }
    
    /* ... include ALL your existing CSS here ... */
    
    /* Added responsive fixes */
    @media (max-width: 768px) {
      .mall { width: 90vw; height: 40vh; }
      .char { transform: scale(0.8); }
      .caption { font-size: 5vw; }
      .subtitle { font-size: 4vw; }
    }
  </style>
</head>
<body>
  <div class="scene" id="scene">
    <div class="sun"></div>
    <div class="cloud small"></div>
    <div class="cloud small" style="top:18vh;animation-delay:10s"></div>
    
    <!-- Birds -->
    <div class="bird" style="top:15vh; left:10vw; animation-delay:0s"></div>
    <div class="bird" style="top:20vh; left:30vw; animation-delay:4s"></div>
    
    <!-- Sparkles -->
    <div class="sparkle" style="top:20vh; left:20vw; animation-delay:1s"></div>
    <div class="sparkle" style="top:30vh; left:70vw; animation-delay:2s"></div>
    <div class="sparkle" style="top:15vh; left:50vw; animation-delay:3s"></div>
    
    <div class="ground"></div>
    <div class="road"></div>
    
    <!-- Flowers -->
    <div class="flower" style="left:5vw;"></div>
    <div class="flower" style="left:15vw; transform: scale(0.8);"></div>
    
    <div class="mall">
      <div class="sign">Eternity <span class="accent">Mall</span> â€” Nagpur</div>
      <div class="facade"></div>
      <div class="windows">
        <div class="pane"></div><div class="pane"></div><div class="pane"></div><div class="pane"></div>
        <div class="pane"></div><div class="pane"></div><div class="pane"></div><div class="pane"></div>
      </div>
      <div class="doors">
        <div class="door"></div>
        <div class="door"></div>
      </div>
      <div class="stairs"></div>
    </div>
    
    <!-- Characters -->
    <div class="char girl" id="girl" style="left: 10vw;">
      <div class="head">
        <div class="hair"></div>
        <div class="hairband"></div>
        <div class="glasses"></div>
        <div class="blush"></div>
        <div class="blush right"></div>
      </div>
      <div class="body"></div>
      <div class="leg"></div>
      <div class="phone-icon" id="girlPhone">ðŸ“±</div>
    </div>
    
    <div class="scooty-container" id="scootyContainer">
      <img class="scooty" src="scooty.png" alt="scooty">
      <div class="char boy boy-on-scooty" id="boy">
        <div class="head">
          <div class="hair"></div>
          <div class="cap"></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="leg"></div>
        <div class="phone-icon" id="boyPhone">ðŸ“±</div>
      </div>
    </div>
    
    <div class="together" id="together">
      <img class="scooty" src="scooty.png" alt="scooty">
      <div class="char girl" id="togetherGirl">
        <!-- Girl character same as above -->
      </div>
      <div class="char boy" id="togetherBoy">
        <!-- Boy character same as above -->
      </div>
    </div>
    
    <div class="phone-call" id="phoneCall">
      <div class="call-header">
        <img src="profile.png" alt="Ankush">
        <h3>Ankush Calling...</h3>
      </div>
      <div class="conversation">
        <p class="his-text" id="hisText1" style="display:none">"I'm outside the mall!"</p>
        <p class="her-text" id="herText1" style="display:none">"Where are you?"</p>
        <p class="his-text" id="hisText2" style="display:none">"I'm on my grey scooty"</p>
        <p class="her-text" id="herText2" style="display:none">"I'm near the stairs, wearing glasses!"</p>
        <p class="his-text" id="hisText3" style="display:none">"Yes! I see you!"</p>
      </div>
    </div>
    
    <div class="greeting-bubble" id="greetingBubble">"Hi Akshata... I'm Ankush"</div>
    
    <div class="heart" id="heart1" style="left: 40%; bottom: 30vh; background: #ff2d95;"></div>
    <div class="heart" id="heart2" style="left: 50%; bottom: 35vh; background: #ff7a2d;"></div>
    
    <div class="caption" id="caption">December at Eternity Mall, Nagpur</div>
    <div class="subtitle" id="subtitle">I was waiting near the stairs, wearing my glasses...</div>
    
    <div id="loveText">And That's How We Met ðŸ’–</div>
    
    <div class="start" id="starter">
      <h1>Our First Meeting Story</h1>
      <button class="btn" id="startBtn">Begin Our Story</button>
    </div>
    
    <button class="replay-btn" id="replayBtn">Replay Our Story</button>
  </div>

  <!-- Local audio files (save these in same folder) -->
  <audio id="bgMusic" loop>
    <source src="romantic-music.mp3" type="audio/mpeg">
  </audio>
  <audio id="ringtone">
    <source src="phone-ring.mp3" type="audio/mpeg">
  </audio>
  <audio id="heartSound">
    <source src="heart-beep.mp3" type="audio/mpeg">
  </audio>
  <audio id="voiceSound">
    <source src="hello-voice.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Audio handling with user gesture requirement
    function initAudio() {
      const audioElements = [
        document.getElementById('bgMusic'),
        document.getElementById('ringtone'),
        document.getElementById('heartSound'),
        document.getElementById('voiceSound')
      ];
      
      // Enable audio after first user interaction
      document.body.addEventListener('click', () => {
        audioElements.forEach(audio => {
          audio.volume = 0.3;
          audio.play().catch(e => console.log("Audio play prevented:", e));
        });
      }, { once: true });
    }

    // Start story function with error handling
    function startStory() {
      initAudio();
      
      // Your existing story animation code
      const startBtn = document.getElementById('startBtn');
      const replayBtn = document.getElementById('replayBtn');
      // ... rest of your animation code ...
      
      // Example animation starter
      startBtn.addEventListener('click', () => {
        document.getElementById('starter').style.display = 'none';
        document.getElementById('bgMusic').play();
        // Begin your animation sequence
      });
    }

    // Initialize when page loads
    window.addEventListener('DOMContentLoaded', startStory);
  </script>
</body>
</html>
